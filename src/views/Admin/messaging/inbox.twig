{% extends 'layout.twig' %}

{% set pageTitle = 'Compose' |trans %}
{% set subTitle = 'Compose' |trans %}

{% block content %}
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Messages</h3>
        </div>
        <div class="panel-body">
            {% if messages %}
                {% for message in messages  %}
                    <a href="{{ path('messages.detail', { 'id':  message.id }) }}" class="list-group-item">
                        <span class="name">{{  message.username }} {% if message.message_read == false %}<span class="badge">new</span> {% endif %}</span> <span class="">{{ message.title }}</span>
                        <span class="text-muted">- {{ message.content |slice(0, 50) |striptags  }}</span> <span class="badge">{{ message.date_send }}</span>
                    </a>
                {% endfor %}
            {% else %}
                <div>Nothing in your inbox!</div>
            {% endif %}
        </div>
    </div>
{% endblock %}

{% block SideNavigation %}
    <li><a href="{{ path('messages.compose') }}"><i class="fa fa-pencil fa-fw"></i> {{ 'Compose new' |trans }}</a></li>
{% endblock %}